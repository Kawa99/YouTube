<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}YouTube Tracker{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ["Inter", "ui-sans-serif", "system-ui", "sans-serif"],
                        mono: ["JetBrains Mono", "ui-monospace", "SFMono-Regular", "monospace"],
                    },
                    colors: {
                        brand: "#E11D48",
                        darkbg: "#0f172a",
                    },
                },
            },
        };
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
    <script src="{{ url_for('static', filename='js/copyButton.js') }}"></script>
</head>
    <body class="font-sans bg-slate-900 text-slate-100 antialiased min-h-screen flex flex-col">

        {% include 'navbar.html' %}  <!-- Include the navbar -->

        <main class="flex-1 w-full max-w-6xl mx-auto px-4 py-8">
            {% block content %}{% endblock %}
        </main>

        <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const messages = {{ messages | tojson }};
                messages.forEach(([category, message]) => {
                    let background = "#334155";
                    if (category === "success") background = "#15803d";
                    if (category === "warning") background = "#d97706";
                    if (category === "error" || category === "danger") background = "#b91c1c";

                    Toastify({
                        text: message,
                        duration: 4000,
                        gravity: "top",
                        position: "right",
                        close: true,
                        stopOnFocus: true,
                        style: {
                            background,
                            color: "#f8fafc",
                            borderRadius: "0.75rem",
                            boxShadow: "0 10px 25px rgba(2, 6, 23, 0.45)",
                        },
                    }).showToast();
                });
            });
        </script>
        {% endif %}
        {% endwith %}
    </body>
</html>
